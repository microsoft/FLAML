<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v0.0.0-4193">
<link rel="alternate" type="application/rss+xml" href="/FLAML/blog/rss.xml" title="FLAML RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/FLAML/blog/atom.xml" title="FLAML Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">Best-Practices | FLAML</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://microsoft.github.io//FLAML/docs/Best-Practices"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Best-Practices | FLAML"><meta data-react-helmet="true" name="description" content="from flaml import AutoML"><meta data-react-helmet="true" property="og:description" content="from flaml import AutoML"><link data-react-helmet="true" rel="shortcut icon" href="/FLAML/img/flaml_logo.ico"><link data-react-helmet="true" rel="canonical" href="https://microsoft.github.io//FLAML/docs/Best-Practices"><link data-react-helmet="true" rel="alternate" href="https://microsoft.github.io//FLAML/docs/Best-Practices" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://microsoft.github.io//FLAML/docs/Best-Practices" hreflang="x-default"><link rel="stylesheet" href="/FLAML/assets/css/styles.c6168781.css">
<link rel="preload" href="/FLAML/assets/js/runtime~main.46f6799c.js" as="script">
<link rel="preload" href="/FLAML/assets/js/main.28de2a8b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/FLAML/"><div class="navbar__logo"><img src="/FLAML/img/flaml_logo_fill.svg" alt="FLAML" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/FLAML/img/flaml_logo_fill.svg" alt="FLAML" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">FLAML</b></a><a class="navbar__item navbar__link" href="/FLAML/docs/Getting-Started">Docs</a><a class="navbar__item navbar__link" href="/FLAML/docs/reference/automl/automl">SDK</a><a class="navbar__item navbar__link" href="/FLAML/blog">Blog</a><a class="navbar__item navbar__link" href="/FLAML/docs/FAQ">FAQ</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/FLAML" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_I7kZ"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_Zg7X searchBarLoadingRing_J5Ez"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_CDc6"><kbd class="searchHint_2RRg">ctrl</kbd><kbd class="searchHint_2RRg">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><main class="docMainContainer_r8cw docMainContainerEnhanced_SOUu"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="theme-doc-markdown markdown"><header><h1>Best-Practices</h1></header><div class="codeBlockContainer_J+bg language-markdown"><div class="codeBlockContent_csEI markdown"><pre tabindex="0" class="prism-code language-markdown codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token title important punctuation" style="color:rgb(199, 146, 234)">#</span><span class="token title important"> Best Practices</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">This page collects practical guidance for using FLAML effectively across common tasks.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> General tips</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Start simple: set </span><span class="token code-snippet code keyword" style="font-style:italic">`task`</span><span class="token plain">, </span><span class="token code-snippet code keyword" style="font-style:italic">`time_budget`</span><span class="token plain">, and keep </span><span class="token code-snippet code keyword" style="font-style:italic">`metric=&quot;auto&quot;`</span><span class="token plain"> unless you have a strong reason to override.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Prefer correct splits: ensure your evaluation strategy matches your data (time series vs i.i.d., grouped data, etc.).</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Keep estimator lists explicit when debugging: start with a small </span><span class="token code-snippet code keyword" style="font-style:italic">`estimator_list`</span><span class="token plain"> and expand.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Use built-in discovery helpers to avoid stale hardcoded lists:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token code punctuation" style="color:rgb(199, 146, 234)">```</span><span class="token code code-language">python</span><span class="token code"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code"></span><span class="token code code-block language-python">from flaml import AutoML</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">from flaml.automl.task.factory import task_factory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">automl = AutoML()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">print(&quot;Built-in sklearn metrics:&quot;, sorted(automl.supported_metrics[0]))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">print(&quot;classification estimators:&quot;, sorted(task_factory(&quot;classification&quot;).estimators.keys()))</span><span class="token code"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code"></span><span class="token code punctuation" style="color:rgb(199, 146, 234)">```</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> Classification</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">Metric</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">: for binary classification, </span><span class="token code-snippet code keyword" style="font-style:italic">`metric=&quot;roc_auc&quot;`</span><span class="token plain"> is common; for multiclass, </span><span class="token code-snippet code keyword" style="font-style:italic">`metric=&quot;log_loss&quot;`</span><span class="token plain"> is often robust.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">Imbalanced data</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> pass </span><span class="token code-snippet code keyword" style="font-style:italic">`sample_weight`</span><span class="token plain"> to </span><span class="token code-snippet code keyword" style="font-style:italic">`AutoML.fit()`</span><span class="token plain">;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> consider setting class weights via </span><span class="token code-snippet code keyword" style="font-style:italic">`custom_hp`</span><span class="token plain"> / </span><span class="token code-snippet code keyword" style="font-style:italic">`fit_kwargs_by_estimator`</span><span class="token plain"> for specific estimators (see </span><span class="token url" style="color:rgb(221, 221, 221)">[</span><span class="token url content" style="color:rgb(221, 221, 221)">FAQ</span><span class="token url" style="color:rgb(221, 221, 221)">](</span><span class="token url" style="color:rgb(221, 221, 221)">FAQ</span><span class="token url" style="color:rgb(221, 221, 221)">)</span><span class="token plain">).</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">Probability vs label metrics</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">: use </span><span class="token code-snippet code keyword" style="font-style:italic">`roc_auc`</span><span class="token plain"> / </span><span class="token code-snippet code keyword" style="font-style:italic">`log_loss`</span><span class="token plain"> when you care about calibrated probabilities.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> Regression</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">Default metric</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">: </span><span class="token code-snippet code keyword" style="font-style:italic">`metric=&quot;r2&quot;`</span><span class="token plain"> (minimizes </span><span class="token code-snippet code keyword" style="font-style:italic">`1 - r2`</span><span class="token plain">).</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> If your target scale matters (e.g., dollar error), consider </span><span class="token code-snippet code keyword" style="font-style:italic">`mae`</span><span class="token plain">/</span><span class="token code-snippet code keyword" style="font-style:italic">`rmse`</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> Learning to rank</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Use </span><span class="token code-snippet code keyword" style="font-style:italic">`task=&quot;rank&quot;`</span><span class="token plain"> with group information (</span><span class="token code-snippet code keyword" style="font-style:italic">`groups`</span><span class="token plain"> / </span><span class="token code-snippet code keyword" style="font-style:italic">`groups_val`</span><span class="token plain">) so metrics like </span><span class="token code-snippet code keyword" style="font-style:italic">`ndcg`</span><span class="token plain"> and </span><span class="token code-snippet code keyword" style="font-style:italic">`ndcg@k`</span><span class="token plain"> are meaningful.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> If you pass </span><span class="token code-snippet code keyword" style="font-style:italic">`metric=&quot;ndcg@10&quot;`</span><span class="token plain">, also pass </span><span class="token code-snippet code keyword" style="font-style:italic">`groups`</span><span class="token plain"> so FLAML can compute group-aware NDCG.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> Time series forecasting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Use time-aware splitting. For holdout validation, set </span><span class="token code-snippet code keyword" style="font-style:italic">`eval_method=&quot;holdout&quot;`</span><span class="token plain"> and use a time-ordered dataset.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Prefer supplying a DataFrame with a clear time column when possible.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Optional time-series estimators depend on optional dependencies. To list what is available in your environment:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token code punctuation" style="color:rgb(199, 146, 234)">```</span><span class="token code code-language">python</span><span class="token code"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code"></span><span class="token code code-block language-python">from flaml.automl.task.factory import task_factory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">print(&quot;forecast:&quot;, sorted(task_factory(&quot;forecast&quot;).estimators.keys()))</span><span class="token code"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code"></span><span class="token code punctuation" style="color:rgb(199, 146, 234)">```</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> NLP (Transformers)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Install the optional dependency: </span><span class="token code-snippet code keyword" style="font-style:italic">`pip install &quot;flaml[hf]&quot;`</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> When you provide a custom metric, ensure it returns </span><span class="token code-snippet code keyword" style="font-style:italic">`(metric_to_minimize, metrics_to_log)`</span><span class="token plain"> with stable keys.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> Speed, stability, and tricky settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">Time budget vs convergence</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">: if you see warnings about not all estimators converging, increase </span><span class="token code-snippet code keyword" style="font-style:italic">`time_budget`</span><span class="token plain"> or reduce </span><span class="token code-snippet code keyword" style="font-style:italic">`estimator_list`</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">Memory pressure / OOM</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> set </span><span class="token code-snippet code keyword" style="font-style:italic">`free_mem_ratio`</span><span class="token plain"> (e.g., </span><span class="token code-snippet code keyword" style="font-style:italic">`0.2`</span><span class="token plain">) to keep free memory above a threshold;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> set </span><span class="token code-snippet code keyword" style="font-style:italic">`model_history=False`</span><span class="token plain"> to reduce stored artifacts;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">Reproducibility</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain">: set </span><span class="token code-snippet code keyword" style="font-style:italic">`seed`</span><span class="token plain"> and keep </span><span class="token code-snippet code keyword" style="font-style:italic">`n_jobs`</span><span class="token plain"> fixed; expect some runtime variance.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> Persisting models</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FLAML supports </span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token bold content">both</span><span class="token bold punctuation" style="color:rgb(199, 146, 234)">**</span><span class="token plain"> MLflow logging and pickle-based persistence. For production deployment, MLflow logging is typically the most important option because it plugs into the MLflow ecosystem (tracking, model registry, serving, governance). For quick local reuse, persisting the whole </span><span class="token code-snippet code keyword" style="font-style:italic">`AutoML`</span><span class="token plain"> object via pickle is often the most convenient.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Option 1: MLflow logging (recommended for production)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">When you run </span><span class="token code-snippet code keyword" style="font-style:italic">`AutoML.fit()`</span><span class="token plain"> inside an MLflow run, FLAML can log metrics/params automatically (disable via </span><span class="token code-snippet code keyword" style="font-style:italic">`mlflow_logging=False`</span><span class="token plain"> if needed). To persist the trained </span><span class="token code-snippet code keyword" style="font-style:italic">`AutoML`</span><span class="token plain"> object as a model artifact and reuse MLflow tooling end-to-end:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token code punctuation" style="color:rgb(199, 146, 234)">```</span><span class="token code code-language">python</span><span class="token code"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code"></span><span class="token code code-block language-python">import mlflow</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">import numpy as np</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">from sklearn.datasets import load_iris</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">from sklearn.model_selection import train_test_split</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">from flaml import AutoML</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">X, y = load_iris(return_X_y=True, as_frame=True)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">X_train, X_test, y_train, y_test = train_test_split(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">    X, y, test_size=0.2, random_state=42</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">automl = AutoML()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">mlflow.set_experiment(&quot;flaml&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">with mlflow.start_run(run_name=&quot;flaml_run&quot;) as run:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">    automl.fit(X_train, y_train, task=&quot;classification&quot;, time_budget=3, retrain_full=False, eval_method=&quot;holdout&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">run_id = run.info.run_id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python"># Later (or in a different process)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">automl2 = mlflow.sklearn.load_model(f&quot;runs:/{run_id}/model&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">assert np.array_equal(automl2.predict(X_test), automl.predict(X_test))</span><span class="token code"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code"></span><span class="token code punctuation" style="color:rgb(199, 146, 234)">```</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">###</span><span class="token title important"> Option 2: Pickle the full `AutoML` instance (convenient / Fabric)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Pickling stores the </span><span class="token italic punctuation" style="color:rgb(199, 146, 234)">*</span><span class="token italic content">entire</span><span class="token italic punctuation" style="color:rgb(199, 146, 234)">*</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="font-style:italic">`AutoML`</span><span class="token plain"> instance (not just the best estimator). This is useful when you prefer not to rely on MLflow or when you want to reuse additional attributes of the AutoML object without retraining.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">In Microsoft Fabric scenarios, this is particularly important for re-plotting visualization figures without requiring model retraining.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token code punctuation" style="color:rgb(199, 146, 234)">```</span><span class="token code code-language">python</span><span class="token code"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code"></span><span class="token code code-block language-python">import mlflow</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">import numpy as np</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">from sklearn.datasets import load_iris</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">from sklearn.model_selection import train_test_split</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">from flaml import AutoML</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">X, y = load_iris(return_X_y=True, as_frame=True)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">X_train, X_test, y_train, y_test = train_test_split(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">    X, y, test_size=0.2, random_state=42</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">automl = AutoML()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">mlflow.set_experiment(&quot;flaml&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">with mlflow.start_run(run_name=&quot;flaml_run&quot;) as run:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">    automl.fit(X_train, y_train, task=&quot;classification&quot;, time_budget=3, retrain_full=False, eval_method=&quot;holdout&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">automl.pickle(&quot;automl.pkl&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">automl2 = AutoML.load_pickle(&quot;automl.pkl&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">assert np.array_equal(automl2.predict(X_test), automl.predict(X_test))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">assert automl.best_config == automl2.best_config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">assert automl.best_loss == automl2.best_loss</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code code-block language-python">assert automl.mlflow_integration.infos == automl2.mlflow_integration.infos</span><span class="token code"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token code"></span><span class="token code punctuation" style="color:rgb(199, 146, 234)">```</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">See also: </span><span class="token url" style="color:rgb(221, 221, 221)">[</span><span class="token url content" style="color:rgb(221, 221, 221)">Task-Oriented AutoML</span><span class="token url" style="color:rgb(221, 221, 221)">](</span><span class="token url" style="color:rgb(221, 221, 221)">Use-Cases/Task-Oriented-AutoML</span><span class="token url" style="color:rgb(221, 221, 221)">)</span><span class="token plain"> and </span><span class="token url" style="color:rgb(221, 221, 221)">[</span><span class="token url content" style="color:rgb(221, 221, 221)">FAQ</span><span class="token url" style="color:rgb(221, 221, 221)">](</span><span class="token url" style="color:rgb(221, 221, 221)">FAQ</span><span class="token url" style="color:rgb(221, 221, 221)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/microsoft/FLAML/edit/main/website/docs/Best-Practices.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/Cppx2vSPVP" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 FLAML Authors. Built with Docusaurus.</div></div></div></footer></div>
<script src="/FLAML/assets/js/runtime~main.46f6799c.js"></script>
<script src="/FLAML/assets/js/main.28de2a8b.js"></script>
</body>
</html>